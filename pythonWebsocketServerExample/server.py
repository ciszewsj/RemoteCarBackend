import time
import json
from simple_websocket_server import WebSocketServer, WebSocket


class SimpleEcho(WebSocket):
    def handle(self):
        # echo message back to client
        print(self.data)

        self.send_message(js)

    def connected(self):
        print(self.address, 'connected')

    def handle_close(self):
        print(self.address, 'closed')


a = "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5V0gojsDCkx81LQOvSmIWjiijFAhi8CnUgpabJQU1+lOpG6UDPG/jwP9J0s/7Mn/ALLXlleq/HkYm0r6S/8AsteVUS3KCiiikAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAfSnw+/wCRN0j/AK9l/lXSCua+HXPgzSec/wCjrXSipjsNi0UUVQgooooAYtOpBS02Qhaa2MU6o5DQijyD48ff0o/9df8A2WvKa9V+O+c6Uccfvf8A2WvKqctx9AoooqQCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD6R+G2f+EK0nP/PAfzNdOK5b4YnPgjSiT/yx/wDZjXUipiNi0UUVQgooooAaKdTRTqZCCo371Iajk9M0IZ5J8eMeVpX+9J/Ja8lr1n48n91pQz/FL/Ja8mpy3K6BRRRUgFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAH0d8Lv+RH0v/rkf/QjXV1ynwu/5EbSv+uZ/wDQjXV0o7DYUUUUxBRRRQA0U6minUyEJUbjipDmo3z3poZ5B8d+ulf9tP8A2WvKq9V+O+M6UP8Arr/7LXlVEtygoooqQCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD6Q+GIA8D6Vj/nkf8A0I11Ncp8LW3eBtL/AOuZH/jxrqxUx2GFFFFUIKKKKAGinUwU6myEFMfkU+mtQhnj/wAeB82lf9tf/Za8pr1r48riPSm/2pP5LXktOW5XQKKKKkAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA+i/hVj/hBtM/3G/9CNddXI/CjJ8C6bz/AAv/AOhtXXVMdgCiiiqAKKKKAGLTqaKdTZmgprU6mtzQUeS/Hn/j30v/AH5P5CvI69b+PP8AqdK/3pP5LXklOW5XQKKKKkAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA+jPhT/yI2mf7jf8AoZrra5P4WDHgbS/+ubf+hGusqY7AFFFFUAUUUUAMFLSLThTM0FNbFOpr0Io8j+PB/daWP9qT+S15LXrXx5P7rSh/tSH9FryWnLcroFFFFSAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRjiigAooooAKKKKACiiigAooooA+jvhcyv4I0sr0ERH4hjXV1xvwjct4F0/23j/x812VTHYAoooqgCiiigBopaQUtMhBTHzT6a3FCGeRfHn/V6Vn+9J/7LXk1es/Hn7ulfWX/ANlryanLcroFFFFSAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAfRHwjP/FC6ef8Af/8AQzXY1xfweJPgWy9mkH/j5rtKmOwBRRRVAFFFFADRS0gpabIQtMc06mtQhnkXx5+7pX1l/wDZa8mr1n49dNJ9My/+y15NTluV0CiiipAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAAAkEjtRRRQAUUUUAFFFFAH0N8HwB4EseerSf+hmuzri/g6c+BbL/AHpP/QzXaVMQCiiiqAKKDSY96AG04U2nCmZoWmNg0+mNQijyT49D91pX+9J/Ja8kr1349D/R9KP+3J/Ja8ipy3K6BRSjHekqQCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD6D+DnPgW0/wB+T/0I121cT8HD/wAUNZ/78n/oZrtqlAFFFFUAUYFFFADKcKbSiqM0Opj9KdQRkUijyT4882uln/po/wDIV5FXr3x54tNLH/TST+QryGnIrogoooqQCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD6D+Dw/4oey5/ik/wDQzXbCuI+DrZ8D2g54eT/0I124qYgFFFFUAUUUUAMpRSCnVTM0FIelLQaRR5F8eT+40v8A35P5CvJK9c+PQHkaW3ffJ/IV5HQyugUUUUgCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD3/4Of8AIk2v+/J/6Ea7kdK4j4Oc+CLT2eT/ANCNdvUoBaKKKoBCaWg0lADRTqjBzTxVMzQtIaXFNakUeS/Hr/U6X/vyfyFeR1618eAfJ0s9t8g/QV5LQyugUUUUgCiiigAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAfQXwc48EWn+/J/wChGu2rifg6f+KItBx9+T/0I12wqY7ALRRRVAFJS0lAEYp4pq9s04mnchIWmN0zmlOc01+nFCGeS/HZv3GmKepdz+gryWvVfjufn0pe373/ANlryqhldAooopAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAHvvwZ/5Eq35/5ayf+hGu6BrhPg0R/wAIXb4/56yZ/wC+q7tetTEB1FFFUIMc5oopMn0/WgZHHyvNOpqgCl+lAhetMfOKdSMaLgeO/HY/6Rpa5/hlOPxWvLa9Q+O2TeaWf9iT+a15fTKCiiikIKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAPe/g0f+KMgx2lk/wDQq7xa4X4OgDwXa4PV5M/99Gu5X2qYgPpM0hNKKoQtGKBwKTn0oGRxnK80p4pE4QUtAkH4UHvR0paQHjHx23G90zPTZJ/Na8wr1P49n/T9LH/TOT+YryymMKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD3z4Mnd4LgHXEsn4c13Q4rg/gng+DQB2nfP6V3meKlAB6U5elNHIpQaoQ6jNIKWkMjHSg80tBoEFJ3oNLQB438ejm/wBM4/gk/mK8tr1L49DF/ph9Uk/mteW0ymFFFFAgooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACijFFABRRiigAooooAKKKKACijBpdp9KAEopdp9KNrehoASinBGP8ACaUQykZEbH8KAGUU/wAmQcFG/KjynzjYfyoA91+CJ/4o8j/p4f8ApXfAVwHwRBXwk4YY/wBIf+legYzUxEHOaWgcUVQC0maD2opDG9KKD0ooEFJS0UAYHijwdpPiloG1JZS0AIQxvt64z/KsYfCXwoB/qLg/WY13FFA7nFL8KPCY62kx+szU7/hVXhL/AJ8ZP+/zf412dFFgOPPwu8I42/2c3181v8ahPwn8Jn/l1nH0mau2ooC5xKfCbwojZNtO3fBmNSn4WeEic/YH/wC/zf412NHagLnID4YeEVH/ACDM/WVv8aD8M/CJ/wCYYB/20b/GuvPXFFAXOSX4aeEVTb/ZannqZGz/ADqVfhz4SAONIi5/2m/xrqKKAOT/AOFaeEs/8gsc/wDTRv8AGl/4Vr4Sx/yCl/7+N/jXV0UWC5y4+HPhIcf2RF+LN/jSr8PPCa4P9jwnHqW/xrp/Sj1osFznR4C8Kj/mC235GlHgTwsBj+xLX/vmuh9KOOaAOfPgXwsRj+xLT/vihfA3hhemi2n4xg10FJQBhDwT4ZBH/Eksv+/QqQeEPDo6aLZD/tiv+FbXeigLmN/wiXh7/oD2X/fhf8KP+ET8Pf8AQGsv+/C/4Vs0UAZA8KeH85/say/78L/hS/8ACL6D1/seyB/64L/hWtRQBlf8IxoWf+QVZ/8Aflf8Kenh3RUHy6VaD/tiv+FaVFAih/YmlA8abaY/65L/AIUf2LpY6ada/wDfpf8ACr9FAFNdK09eljbAf9cl/wAKd/Zlh/z5W/8A37FWu9FAyr/Zlh/z5W//AH7FOWxs0GFtYQPZBVjvR2oEQm0tjx9ni/74FAs7X/n2h/74FTUUANjijiXbHGiD0UYp+RSUUALnJp1M7inGmAUUdaWgYyiiikIKKKKACiiigAooo9aADvRR6UZ60AFFHpRzigApKWjFABRRSUAL6UmetLRQAd6O1FFACUUtFABRRR+FABRRRTAKMUelFIAoo9KPWgAo5oopgFFFFIAooopgHpRRSUgFz0o7GgUUAHekxxS0cUAHGaD1oJo780AOFLmkBoyaYxlFFFIQUtFFACUtFFABRRRQAUUUUAFFFFABRRRQAUUUUAHpRRRTAKKKKACiiigAo7miikAZ6UZ60UUAHpRRRQAd6KKKADNHvRRTAPejtnpRRSAFzj3o7UUUAJ7UjOoIXIz6UUUMYb1/vD86XIoooTAMjNG6iii4CjpSCiigBwpaKKAP/9k="

js = json.dumps({"type": "DISPLAY_MESSAGE", "data": {"image": a}})

server = WebSocketServer('', 8000, SimpleEcho)
server.serve_forever()
